Epoch  3 / 3
Average loss:0.202896 
start test...
Best Result: MAP: 0.5414 MRR: 0.5514 NDCG@1: 0.3941 NDCG@3: 0.5376 NDCG@5: 0.5753 NDCG@10: 0.6075
Namespace(aug_strategy='sent_deletion,term_deletion', batch_size=512, bert_model_path='/cache/data/BertModel/', epochs=5, is_training=True, learning_rate=5e-05, log_path='/cache/output/pretraining/logs/BertContrastive.aol.log', loss_path='/cache/output/pretraining/logs/BertContrastive.aol.train_cl_loss.log', save_path='/cache/output/pretraining/models/BertContrastive.aol.5.5.sent_deletion.term_deletion', score_file_path='./output/aol/BertContrastive.aol.score_file.txt', task='aol', temperature=0.05, test_batch_size=256)
* number of parameters: 109484544
start fitting.........
init train_dataset ok
init train_dataloader ok
init optimizer, bce_loss... ok



Epoch  3 / 3
Average loss:0.205923 
start test...
Best Result: MAP: 0.5369 MRR: 0.5469 NDCG@1: 0.3890 NDCG@3: 0.5313 NDCG@5: 0.5711 NDCG@10: 0.6041
write success
[Modelarts Service Log]Training end with return code: 0
[Modelarts Service Log]handle outputs of training job
[Modelarts Service Log][modelarts_logger] modelarts-pipe found
INFO:root:Using MoXing-v1.17.1-47ce498c
INFO:root:Using OBS-Python-SDK-3.1.2
[ModelArts Service Log][INFO][2021/05/08 08:49:53]: env MA_OUTPUTS is not found, skip the outputs handler
[Modelarts Service Log]Training completed.
